{"version":3,"file":"static/webpack/static/development/pages/script-page.js.172c6557bd296eac0841.hot-update.js","sources":["webpack:///./pages/script-page.js"],"sourcesContent":["import gql from 'graphql-tag';\nimport { useQuery, useMutation } from '@apollo/react-hooks';\nimport { Button, Card, Layout, Page, ResourceList, Stack } from '@shopify/polaris';\n\nconst CREATE_SCRIPT_TAG = gql`\n    mutation scriptTagCreate($input: ScriptTagInput!) {\n        scriptTagCreate(input: $input) {\n            scriptTag {\n                id\n            }\n            userErrors {\n                field\n                message\n            }\n        }\n    }\n`;\n\nconst QUERY_SCRIPTTAGS = gql`\n    query {\n        scriptTags(first: 5) {\n            edges {\n                node {\n                    id\n                    src\n                    displayScope\n                }\n            }\n        }\n    }\n`;\n\nconst DELETE_SCRIPTTAG = gql`\n    mutation scriptTagDelete($id: ID!) {\n        scriptTagDelete(id: $id) {\n            deletedScriptTagId\n            userErrors {\n                field\n                message\n            }\n        }\n    }\n`;\n\nfunction ScriptPage() {\n\n  const [createScripts] = useMutation(CREATE_SCRIPT_TAG);\n  const [deleteScripts] = useMutation(DELETE_SCRIPTTAG);\n  const { loading, error, data } = useQuery(QUERY_SCRIPTTAGS);\n\n\n  if (loading) return <div>Loadingâ€¦</div>;\n  if (error) return <div>{error.message}</div>;\n\n  return (\n    <Page>\n      <Layout>\n        <Layout.Section>\n          <Card title=\"These are the Script Tags:\" sectioned>\n            <p>\n              Create or Delete a Script Tag\n            </p>\n          </Card>\n        </Layout.Section>\n        <Layout.Section secondary>\n          <Card title=\"Delete Tag\" sectioned>\n            <Button\n              primary\n              size=\"slim\"\n              type=\"submit\" onClick={() => {\n                createScripts({\n                  variables: {\n                    input: {\n                      src: \"https://b056b7566d2b.ngrok.io/test-script.js\",\n                      displayScope: \"ALL\",\n                    },\n                  },\n                  refetchQueries: [{ query: QUERY_SCRIPTTAGS }],\n                });\n              }}\n            >\n              Create Script Tag\n            </Button>\n          </Card>\n        </Layout.Section>\n        <Layout.Section>\n          <Card>\n            <ResourceList\n              showHeader\n              resourceName={{ singular: 'Script', plural: 'Scripts' }}\n              items={data.scriptTags.edges}\n              renderItem={item => {\n                return (\n                  <ResourceList.Item\n                    id={item.id}\n                  >\n                    <Stack>\n                      <Stack.Item>\n                        <p>\n                          {item.node.id}\n                        </p>\n                      </Stack.Item>\n                      <Stack.Item>\n                        <Button type='submit' onClick={() => {\n                          deleteScripts({\n                            variables: {\n                              id: item.node.id\n                            },\n                            refetchQueries: [{ query: QUERY_SCRIPTTAGS }]\n                          })\n                        }}>\n                          Delete Script Tag\n                        </Button>\n                      </Stack.Item>\n                    </Stack>\n                  </ResourceList.Item>\n                )\n              }}\n            />\n          </Card>\n        </Layout.Section>\n      </Layout>\n    </Page>\n  )\n}\n\nexport default ScriptPage;\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAEA;AAcA;AAcA;AACA;AAWA;AAAA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AACA;AADA;AAAA;AAAA;AAAA;AACA;AAMA;AACA;AAEA;AAIA;AAAA;AAAA;AAMA;AAAA;AACA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AAFA;AADA;AAMA;AAAA;AAAA;AAPA;AASA;AAbA;AAsBA;AACA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAEA;AADA;AAUA;AAAA;AACA;AACA;AACA;AADA;AAGA;AAAA;AAAA;AAJA;AAMA;AAPA;AAcA;AA9BA;AAqCA;AACA;AACA;;;;A","sourceRoot":""}